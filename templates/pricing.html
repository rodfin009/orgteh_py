{% extends "base.html" %}

{% block content %}
<style>
    .tab-active { background: linear-gradient(to right, #3b82f6, #8b5cf6); color: white; }
    .tab-inactive { background: transparent; color: #9ca3af; }
    .bonus-glow { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
    .card-popular { transform: scale(1.02); }
    @media (min-width: 768px) { .card-popular { transform: scale(1.05); } }

    /* Ribbon Styles */
    .ribbon-wrapper {
        position: absolute;
        top: 0;
        right: 0;
        width: 100%;
        height: 100%;
        overflow: hidden; 
        border-radius: 1rem; 
        pointer-events: none;
        z-index: 10;
    }
    .ribbon {
        position: absolute;
        top: 20px;
        right: -45px;
        width: 150px;
        transform: rotate(45deg);
        background: linear-gradient(to right, #ef4444, #dc2626);
        color: white;
        text-align: center;
        padding: 6px 0;
        font-size: 0.7rem;
        font-weight: 800;
        text-transform: uppercase;
        box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        z-index: 20;
    }
    .ribbon-green { background: linear-gradient(to right, #10b981, #059669); }
    .ribbon-blue { background: linear-gradient(to right, #3b82f6, #2563eb); }

    html[dir="rtl"] .ribbon-wrapper { right: auto; left: 0; }
    html[dir="rtl"] .ribbon { right: auto; left: -45px; transform: rotate(-45deg); }
</style>

<div class="py-12 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-darkbg min-h-screen">
    <div class="max-w-7xl mx-auto">

        <div class="text-center mb-12">
            <h2 class="text-primary font-bold tracking-wide uppercase text-sm" data-i18n="pricing.lbl_plans_header">Subscription Plans</h2>
            <p class="mt-2 text-4xl font-extrabold text-gray-900 dark:text-white sm:text-5xl">
                <span data-i18n="pricing.title_main">Orgteh API Plans</span>
            </p>
            <p class="mt-4 max-w-2xl text-xl text-gray-600 dark:text-gray-400 mx-auto" data-i18n="pricing.subtitle_main">
                Flexible options: Individual models, smart bundles, or global access.
            </p>
        </div>

        <div class="mx-auto mb-10 max-w-3xl overflow-hidden rounded-2xl border border-yellow-500/30 bg-gradient-to-r from-yellow-500/10 via-yellow-400/5 to-yellow-500/10">
            <div class="flex flex-col items-center gap-4 p-6 text-center md:flex-row md:text-right ltr:md:text-left">
                <div class="flex h-14 w-14 shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-yellow-600 to-yellow-400 shadow-lg">
                    <i class="fa-solid fa-shield-halved text-xl text-white"></i>
                </div>
                <div class="flex-1">
                    <h3 class="flex items-center justify-center gap-2 text-lg font-bold text-gray-900 dark:text-white md:justify-start">
                        <i class="fa-solid fa-bolt text-yellow-500"></i>
                        <span data-i18n="pricing.promo_emergency_title">Extra Credit</span>
                        <i class="fa-solid fa-bolt text-yellow-500"></i>
                    </h3>
                    <p class="mt-1 text-gray-600 dark:text-gray-400" data-i18n="pricing.promo_emergency_desc">
                        Service does not stop when limit is reached.
                    </p>
                </div>
            </div>
        </div>

        <div class="flex justify-center mb-10">
            <div class="inline-flex rounded-xl bg-gray-200 dark:bg-gray-800 p-1.5">
                <button onclick="switchTab('individual')" id="tab-individual" class="flex items-center gap-2 px-6 py-3 rounded-lg font-bold text-base transition-all tab-active">
                    <i class="fa-solid fa-user"></i>
                    <span data-i18n="pricing.tab_individual">Individual Plans</span>
                </button>
                <button onclick="switchTab('global')" id="tab-global" class="flex items-center gap-2 px-6 py-3 rounded-lg font-bold text-base transition-all tab-inactive">
                    <i class="fa-solid fa-cubes"></i>
                    <span data-i18n="pricing.tab_global">Bundles</span>
                </button>
            </div>
        </div>

        <div id="section-individual" class="block">
            <div class="text-center mb-8">
                <h3 class="text-2xl font-bold text-gray-900 dark:text-white" data-i18n="pricing.sec_individual_title">For Professionals</h3>
                <p class="mt-2 text-gray-500 dark:text-gray-400" data-i18n="pricing.sec_individual_desc">Choose your specific model.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-6 lg:gap-8">

                <div class="relative flex flex-col rounded-2xl border-2 border-primary bg-white dark:bg-cardbg p-6 shadow-xl ring-2 ring-primary/20 card-popular">
                    <div class="absolute -top-4 left-1/2 -translate-x-1/2 z-20">
                        <span class="inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-600 to-violet-600 px-4 py-1.5 text-sm font-bold text-white shadow-lg whitespace-nowrap">
                            <i class="fa-solid fa-crown"></i>
                            <span data-i18n="pricing.lbl_popular">Popular</span>
                        </span>
                    </div>
                    <div class="mb-4 text-center pt-4">
                        <!-- ✅ صورة محلية DeepSeek -->
                        <img src="/static/deepseek.webp" class="mx-auto mb-4 w-16 h-16 object-contain drop-shadow-md hover:scale-110 transition-transform duration-300">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white">DeepSeek V3</h3>
                        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">DeepSeek-AI</p>
                    </div>
                    <div class="mb-4 flex rounded-lg bg-gray-100 dark:bg-gray-800 p-1" id="period-deepseek">
                        <button onclick="setPeriod('deepseek', 'monthly')" class="flex-1 rounded-md px-3 py-2 text-sm font-medium transition-all text-gray-500" data-period="monthly" data-i18n="pricing.btn_monthly">Monthly</button>
                        <button onclick="setPeriod('deepseek', 'yearly')" class="flex-1 rounded-md px-3 py-2 text-sm font-medium transition-all text-gray-500" data-period="yearly" data-i18n="pricing.btn_yearly">Yearly</button>
                    </div>
                    <div class="mb-4 text-center">
                        <span class="text-4xl font-bold text-gray-900 dark:text-white" id="price-deepseek">$3.99</span>
                        <span class="text-gray-500 price-label" data-i18n="pricing.lbl_per_month">/month</span>
                    </div>
                    <div class="mb-4 rounded-lg bg-gray-100 dark:bg-gray-800/50 p-3 text-center">
                        <div class="text-2xl font-bold text-primary">300</div>
                        <div class="text-sm text-gray-500 dark:text-gray-400" data-i18n="pricing.lbl_req_day">req/day</div>
                    </div>
                    <div class="mb-4 relative overflow-hidden rounded-xl border-2 border-yellow-500/50 bg-gradient-to-r from-yellow-500/10 via-yellow-400/20 to-yellow-500/10 p-4">
                        <div class="absolute inset-0 bg-gradient-to-r from-transparent via-yellow-500/10 to-transparent bonus-glow"></div>
                        <div class="relative flex items-center justify-center gap-2">
                            <i class="fa-solid fa-bolt text-xl text-yellow-500 bonus-glow"></i>
                            <div class="text-center">
                                <div class="text-lg font-bold text-yellow-600 dark:text-yellow-500" id="bonus-deepseek">+600</div>
                                <div class="text-sm font-semibold text-yellow-700 dark:text-yellow-600" data-i18n="pricing.lbl_extra_credit">Extra Credit</div>
                            </div>
                        </div>
                    </div>
                    <button class="w-full py-3 bg-primary text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg shadow-primary/30" data-i18n="pricing.btn_subscribe">Subscribe</button>
                </div>

                <div class="relative flex flex-col rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-cardbg p-6 shadow-lg hover:border-primary/50 transition-all">
                    <div class="mb-4 text-center mt-2">
                        <!-- ✅ صورة محلية Kimi -->
                        <img src="/static/kimi.webp" class="mx-auto mb-4 w-16 h-16 object-contain drop-shadow-md hover:scale-110 transition-transform duration-300">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white">Moonshot Kimi k2</h3>
                        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Moonshot AI</p>
                    </div>
                    <div class="mb-4 flex rounded-lg bg-gray-100 dark:bg-gray-800 p-1" id="period-kimi">
                        <button onclick="setPeriod('kimi', 'monthly')" class="flex-1 rounded-md px-3 py-2 text-sm font-medium transition-all text-gray-500" data-period="monthly" data-i18n="pricing.btn_monthly">Monthly</button>
                        <button onclick="setPeriod('kimi', 'yearly')" class="flex-1 rounded-md px-3 py-2 text-sm font-medium transition-all text-gray-500" data-period="yearly" data-i18n="pricing.btn_yearly">Yearly</button>
                    </div>
                    <div class="mb-4 text-center">
                        <span class="text-4xl font-bold text-gray-900 dark:text-white" id="price-kimi">$6.99</span>
                        <span class="text-gray-500 price-label" data-i18n="pricing.lbl_per_month">/month</span>
                    </div>
                    <div class="mb-4 rounded-lg bg-gray-100 dark:bg-gray-800/50 p-3 text-center">
                        <div class="text-2xl font-bold text-primary">200</div>
                        <div class="text-sm text-gray-500 dark:text-gray-400" data-i18n="pricing.lbl_req_day">req/day</div>
                    </div>
                    <div class="mb-4 relative overflow-hidden rounded-xl border-2 border-yellow-500/50 bg-gradient-to-r from-yellow-500/10 via-yellow-400/20 to-yellow-500/10 p-4">
                        <div class="relative flex items-center justify-center gap-2">
                            <i class="fa-solid fa-bolt text-xl text-yellow-500 bonus-glow"></i>
                            <div class="text-center">
                                <div class="text-lg font-bold text-yellow-600 dark:text-yellow-500" id="bonus-kimi">+300</div>
                                <div class="text-sm font-semibold text-yellow-700 dark:text-yellow-600" data-i18n="pricing.lbl_extra_credit">Extra Credit</div>
                            </div>
                        </div>
                    </div>
                    <button class="w-full py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-bold rounded-xl transition" data-i18n="pricing.btn_subscribe">Subscribe</button>
                </div>

                <div class="relative flex flex-col rounded-2xl border-2 border-yellow-500 bg-gradient-to-b from-white dark:from-cardbg to-yellow-500/5 p-6 shadow-lg">
                    <div class="absolute -top-4 left-1/2 -translate-x-1/2 z-20">
                        <span class="inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-yellow-700 via-yellow-500 to-yellow-400 px-4 py-1.5 text-sm font-bold text-white shadow-lg whitespace-nowrap">
                            <i class="fa-solid fa-gem"></i>
                            <span data-i18n="pricing.lbl_elite">Elite</span>
                        </span>
                    </div>
                    <div class="mb-4 text-center pt-4">
                        <!-- ✅ صورة محلية Mistral -->
                        <img src="/static/mistral.webp" class="mx-auto mb-4 w-16 h-16 object-contain drop-shadow-md hover:scale-110 transition-transform duration-300">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white">Mistral Large</h3>
                        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Mistral AI</p>
                    </div>
                    <div class="mb-4 flex rounded-lg bg-gray-100 dark:bg-gray-800 p-1" id="period-mistral">
                        <button onclick="setPeriod('mistral', 'monthly')" class="flex-1 rounded-md px-3 py-2 text-sm font-medium transition-all text-gray-500" data-period="monthly" data-i18n="pricing.btn_monthly">Monthly</button>
                        <button onclick="setPeriod('mistral', 'yearly')" class="flex-1 rounded-md px-3 py-2 text-sm font-medium transition-all text-gray-500" data-period="yearly" data-i18n="pricing.btn_yearly">Yearly</button>
                    </div>
                    <div class="mb-4 text-center">
                        <span class="text-4xl font-bold text-gray-900 dark:text-white" id="price-mistral">$11.99</span>
                        <span class="text-gray-500 price-label" data-i18n="pricing.lbl_per_month">/month</span>
                    </div>
                    <div class="mb-4 rounded-lg bg-gray-100 dark:bg-gray-800/50 p-3 text-center">
                        <div class="text-2xl font-bold text-primary">100</div>
                        <div class="text-sm text-gray-500 dark:text-gray-400" data-i18n="pricing.lbl_req_day">req/day</div>
                    </div>
                    <div class="mb-4 relative overflow-hidden rounded-xl border-2 border-yellow-500/50 bg-gradient-to-r from-yellow-500/10 via-yellow-400/20 to-yellow-500/10 p-4">
                        <div class="relative flex items-center justify-center gap-2">
                            <i class="fa-solid fa-bolt text-xl text-yellow-500 bonus-glow"></i>
                            <div class="text-center">
                                <div class="text-lg font-bold text-yellow-600 dark:text-yellow-500" id="bonus-mistral">+200</div>
                                <div class="text-sm font-semibold text-yellow-700 dark:text-yellow-600" data-i18n="pricing.lbl_extra_credit">Extra Credit</div>
                            </div>
                        </div>
                    </div>
                    <button class="w-full py-3 bg-gradient-to-r from-yellow-700 via-yellow-500 to-yellow-400 text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg" data-i18n="pricing.btn_subscribe">Subscribe</button>
                </div>

                <div class="relative flex flex-col rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-cardbg p-6 shadow-lg hover:border-blue-500/50 transition-all">
                    <div class="mb-4 text-center mt-2">
                        <!-- ✅ صورة محلية Gemma -->
                        <img src="/static/gemma.webp" class="mx-auto mb-4 w-16 h-16 object-contain drop-shadow-md hover:scale-110 transition-transform duration-300">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white">Gemma 3</h3>
                        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Google DeepMind</p>
                    </div>
                    <div class="mb-4 flex rounded-lg bg-gray-100 dark:bg-gray-800 p-1" id="period-gemma">
                        <button onclick="setPeriod('gemma', 'monthly')" class="flex-1 rounded-md px-3 py-2 text-sm font-medium transition-all text-gray-500" data-period="monthly" data-i18n="pricing.btn_monthly">Monthly</button>
                        <button onclick="setPeriod('gemma', 'yearly')" class="flex-1 rounded-md px-3 py-2 text-sm font-medium transition-all text-gray-500" data-period="yearly" data-i18n="pricing.btn_yearly">Yearly</button>
                    </div>
                    <div class="mb-4 text-center">
                        <span class="text-4xl font-bold text-gray-900 dark:text-white" id="price-gemma">$3.49</span>
                        <span class="text-gray-500 price-label" data-i18n="pricing.lbl_per_month">/month</span>
                    </div>
                    <div class="mb-4 rounded-lg bg-gray-100 dark:bg-gray-800/50 p-3 text-center">
                        <div class="text-2xl font-bold text-primary">500</div>
                        <div class="text-sm text-gray-500 dark:text-gray-400" data-i18n="pricing.lbl_req_day">req/day</div>
                    </div>
                    <div class="mb-4 relative overflow-hidden rounded-xl border-2 border-yellow-500/50 bg-gradient-to-r from-yellow-500/10 via-yellow-400/20 to-yellow-500/10 p-4">
                        <div class="relative flex items-center justify-center gap-2">
                            <i class="fa-solid fa-bolt text-xl text-yellow-500 bonus-glow"></i>
                            <div class="text-center">
                                <div class="text-lg font-bold text-yellow-600 dark:text-yellow-500" id="bonus-gemma">+1000</div>
                                <div class="text-sm font-semibold text-yellow-700 dark:text-yellow-600" data-i18n="pricing.lbl_extra_credit">Extra Credit</div>
                            </div>
                        </div>
                    </div>
                    <button class="w-full py-3 bg-blue-600 text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg" data-i18n="pricing.btn_subscribe">Subscribe</button>
                </div>

                <div class="relative flex flex-col rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-cardbg p-6 shadow-lg hover:border-indigo-500/50 transition-all">
                    <div class="mb-4 text-center mt-2">
                        <!-- ✅ صورة محلية Meta/Llama -->
                        <img src="/static/meta.webp" class="mx-auto mb-4 w-16 h-16 object-contain drop-shadow-md hover:scale-110 transition-transform duration-300">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white">Llama 3.2</h3>
                        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Meta AI</p>
                    </div>
                    <div class="mb-4 flex rounded-lg bg-gray-100 dark:bg-gray-800 p-1" id="period-llama">
                        <button onclick="setPeriod('llama', 'monthly')" class="flex-1 rounded-md px-3 py-2 text-sm font-medium transition-all text-gray-500" data-period="monthly" data-i18n="pricing.btn_monthly">Monthly</button>
                        <button onclick="setPeriod('llama', 'yearly')" class="flex-1 rounded-md px-3 py-2 text-sm font-medium transition-all text-gray-500" data-period="yearly" data-i18n="pricing.btn_yearly">

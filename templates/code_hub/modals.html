<div id="main-menu-modal" class="modal-overlay" onclick="if(event.target === this) closeSpecificModal('main-menu-modal')">
  <div class="modal-sheet">
      <div class="flex justify-between items-center mb-6">
          <h3 class="text-lg font-bold" data-i18n-ide="menu_title">Nexus Options</h3>
          <button onclick="closeSpecificModal('main-menu-modal')" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"><i class="fa-solid fa-times text-xl"></i></button>
      </div>
      <div class="flex flex-col gap-2">
          <div class="option-card" onclick="switchModal('main-menu-modal', 'model-modal')">
              <div class="flex-1 text-start p-1">
                  <div class="font-bold text-lg mb-1" data-i18n-ide="menu_models">Embedding Models</div>
                  <div class="text-sm text-gray-500" data-i18n-ide="select_model_desc">Select one or more models to use</div>
              </div>
              <i class="fa-solid fa-chevron-right text-gray-300"></i>
          </div>
          <div class="option-card" onclick="switchModal('main-menu-modal', 'tool-modal')">
              <div class="flex-1 text-start p-1">
                  <div class="font-bold text-lg mb-1" data-i18n-ide="menu_tools">Tools Library</div>
                  <div class="text-sm text-gray-500" data-i18n-ide="select_tool_desc">Enable tools for the AI to use</div>
              </div>
              <i class="fa-solid fa-chevron-right text-gray-300"></i>
          </div>
      </div>
  </div>
</div>

<div id="model-modal" class="modal-overlay" onclick="if(event.target === this) closeSpecificModal('model-modal')">
  <div class="modal-sheet">
      <div class="flex justify-between items-center mb-6">
          <h3 class="text-lg font-bold" data-i18n-ide="select_model_title">Choose Embedding Model</h3>
      </div>
      <div id="model-list-container">
          {% for model in models %}
          <div class="option-card {% if loop.first %}selected{% endif %}" id="model-{{ model.short_key }}" onclick="selectItem('models', '{{ model.id }}', 'model-{{ model.short_key }}')">
              <img src="{{ model.image }}" class="option-icon">
              <div class="flex-1 text-start">
                  <div class="font-bold text-sm">{{ model.name }}</div>
                  <div class="text-xs text-gray-400" data-lang-en="{{ model.desc_en }}" data-lang-ar="{{ model.desc_ar }}">{{ model.desc_en }}</div>
              </div>
              <div class="text-indigo-500 check-icon {% if not loop.first %}hidden{% endif %}"><i class="fa-solid fa-circle-check"></i></div>
          </div>
          {% endfor %}
      </div>
      <button onclick="closeSpecificModal('model-modal')" class="w-full mt-4 py-3 bg-indigo-600 text-white rounded-xl font-bold">Done</button>
  </div>
</div>

<div id="tool-modal" class="modal-overlay" onclick="if(event.target === this) closeSpecificModal('tool-modal')">
  <div class="modal-sheet">
      <div class="flex justify-between items-center mb-6">
          <h3 class="text-lg font-bold" data-i18n-ide="select_tool_title">Select Tools</h3>
      </div>
      <div id="tool-list-container">
          {% for tool in tools %}
          <div class="option-card" id="tool-{{ tool.id }}" onclick="selectItem('tools', '{{ tool.id }}', 'tool-{{ tool.id }}')">
              <div class="option-icon {{ tool.color }}"><i class="{{ tool.icon }}"></i></div>
              <div class="flex-1 text-start">
                  <div class="font-bold text-sm" data-lang-en="{{ tool.name_en }}" data-lang-ar="{{ tool.name_ar }}">{{ tool.name_en }}</div>
                  <div class="text-xs text-gray-400" data-lang-en="{{ tool.desc_en }}" data-lang-ar="{{ tool.desc_ar }}">{{ tool.desc_en }}</div>
              </div>
              <div class="text-indigo-500 check-icon hidden"><i class="fa-solid fa-circle-check"></i></div>
          </div>
          {% endfor %}
      </div>
      <button onclick="closeSpecificModal('tool-modal')" class="w-full mt-4 py-3 bg-indigo-600 text-white rounded-xl font-bold">Done</button>
  </div>
</div>
{% extends "base.html" %}

{% block content %}
<style>
    /* Standard Text Gradient (Blue/Cyan/Indigo) */
    .hero-text-gradient {
        background: linear-gradient(135deg, #3b82f6 0%, #6366f1 50%, #4f46e5 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    .card-hover {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .card-hover:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.1);
        border-color: #6366f1;
    }

    /* Form Styling */
    select, input, textarea {
        background-color: #f9fafb;
        color: #111827;
        transition: all 0.2s;
    }
    .dark select, .dark input, .dark textarea {
        background-color: #1e293b; 
        color: white;
        border-color: #334155;
    }
    .dark select:focus, .dark input:focus, .dark textarea:focus {
        border-color: #6366f1;
        ring: 2px solid #6366f1;
    }

    /* Success Checkmark */
    .success-check {
        width: 80px; height: 80px;
        border-radius: 50%;
        display: block;
        stroke-width: 2; stroke: #22c55e; stroke-miterlimit: 10;
        margin: 10% auto;
        box-shadow: inset 0px 0px 0px #22c55e;
        animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both;
    }
    @keyframes fill { 100% { box-shadow: inset 0px 0px 0px 30px #22c55e; } }
</style>

<div class="min-h-screen bg-gray-50 dark:bg-darkbg py-16 px-4 sm:px-6 lg:px-8">
    <div class="max-w-5xl mx-auto">

        <div class="text-center mb-16">
            <h1 class="text-4xl sm:text-5xl font-black mb-6 tracking-tight text-gray-900 dark:text-white leading-tight">
                <span data-i18n="ent.title_main">Custom AI Solutions</span> <br>
                <span class="hero-text-gradient" data-i18n="ent.title_sub">Tailored to Your Project</span>
            </h1>
            <p class="text-lg text-gray-600 dark:text-gray-400 font-medium max-w-2xl mx-auto border-b-2 border-primary/10 pb-8" data-i18n="ent.subtitle">
                For special projects, enterprises, clinics, and non-standard requests.
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16">
            <div class="bg-white dark:bg-[#1e293b] p-8 rounded-2xl border border-gray-200 dark:border-gray-700 card-hover text-center cursor-default">
                <div class="w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-2xl flex items-center justify-center mx-auto mb-5 text-red-600 dark:text-red-400">
                    <i class="fa-solid fa-hospital-user text-3xl"></i>
                </div>
                <h3 class="font-bold text-xl text-gray-900 dark:text-white mb-2" data-i18n="ent.card_clinic_title">Clinics & Centers</h3>
                <p class="text-sm text-gray-500 dark:text-gray-400 font-medium" data-i18n="ent.card_clinic_desc">Smart booking systems & patient data analysis.</p>
            </div>

            <div class="bg-white dark:bg-[#1e293b] p-8 rounded-2xl border border-gray-200 dark:border-gray-700 card-hover text-center cursor-default">
                <div class="w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-2xl flex items-center justify-center mx-auto mb-5 text-green-600 dark:text-green-400">
                    <i class="fa-solid fa-store text-3xl"></i>
                </div>
                <h3 class="font-bold text-xl text-gray-900 dark:text-white mb-2" data-i18n="ent.card_store_title">E-commerce & Support</h3>
                <p class="text-sm text-gray-500 dark:text-gray-400 font-medium" data-i18n="ent.card_store_desc">Automated CS bots & product recommendations.</p>
            </div>

            <div class="bg-white dark:bg-[#1e293b] p-8 rounded-2xl border border-gray-200 dark:border-gray-700 card-hover text-center cursor-default">
                <div class="w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-2xl flex items-center justify-center mx-auto mb-5 text-blue-600 dark:text-blue-400">
                    <i class="fa-solid fa-server text-3xl"></i>
                </div>
                <h3 class="font-bold text-xl text-gray-900 dark:text-white mb-2" data-i18n="ent.card_tech_title">Private API / SaaS</h3>
                <p class="text-sm text-gray-500 dark:text-gray-400 font-medium" data-i18n="ent.card_tech_desc">High volume endpoints & dedicated infrastructure.</p>
            </div>
        </div>

        <div class="bg-white dark:bg-[#1e293b] rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden relative">
            <div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-blue-600 to-primary"></div>

            <div class="p-8 md:p-12">
                <form id="enterpriseForm" onsubmit="submitForm(event)" class="space-y-8">
                    <div>
                        <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-3">
                            <span class="w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center text-sm font-black">1</span>
                            <span data-i18n="ent.form_section_1">Project Scope</span>
                        </h3>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2" data-i18n="ent.label_type">Project Type</label>
                                <select id="projectType" required class="w-full rounded-xl border-gray-300 dark:border-gray-600 py-3.5 px-4 shadow-sm focus:border-primary focus:ring focus:ring-primary/20 cursor-pointer">
                                    <option value="" disabled selected data-i18n="ent.opt_select">Select...</option>
                                    <option value="cs" data-i18n="ent.opt_type_cs">Customer Service / Bot</option>
                                    <option value="api" data-i18n="ent.opt_type_api">Dedicated API</option>
                                    <option value="web" data-i18n="ent.opt_type_web">Website / App Integration</option>
                                    <option value="other" data-i18n="ent.opt_type_other">Other</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2" data-i18n="ent.label_volume">Expected Volume</label>
                                <select id="volume" required class="w-full rounded-xl border-gray-300 dark:border-gray-600 py-3.5 px-4 shadow-sm focus:border-primary focus:ring focus:ring-primary/20 cursor-pointer">
                                    <option value="" disabled selected data-i18n="ent.opt_select">Select...</option>
                                    <option value="low" data-i18n="ent.opt_vol_low">Standard (Startups)</option>
                                    <option value="medium" data-i18n="ent.opt_vol_med">Medium (Growing Business)</option>
                                    <option value="high" data-i18n="ent.opt_vol_high">High (Enterprise / Heavy Load)</option>
                                </select>
                            </div>
                        </div>

                        <div class="mt-6">
                            <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2" data-i18n="ent.label_needs">Primary Requirement</label>
                            <select id="needs" required class="w-full rounded-xl border-gray-300 dark:border-gray-600 py-3.5 px-4 shadow-sm focus:border-primary focus:ring focus:ring-primary/20 cursor-pointer">
                                <option value="" disabled selected data-i18n="ent.opt_select">Select...</option>
                                <option value="price" data-i18n="ent.opt_need_price">Special Pricing (Bulk Discount)</option>
                                <option value="setup" data-i18n="ent.opt_need_setup">Full Setup & Development</option>
                                <option value="vps" data-i18n="ent.opt_need_vps">Dedicated VPS / Private Instance</option>
                                <option value="unsure" data-i18n="ent.opt_need_unsure">Not sure, need consultation</option>
                            </select>
                        </div>
                    </div>

                    <div class="border-t border-gray-100 dark:border-gray-700/50"></div>

                    <div>
                        <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-3">
                            <span class="w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center text-sm font-black">2</span>
                            <span data-i18n="ent.form_section_2">Contact Info</span>
                        </h3>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="md:col-span-1">
                                <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2" data-i18n="ent.label_method">Method</label>
                                <select id="contactMethod" class="w-full rounded-xl border-gray-300 dark:border-gray-600 py-3.5 px-4 bg-gray-50 dark:bg-gray-800">
                                    <option value="telegram">Telegram</option>
                                    <option value="whatsapp">WhatsApp</option>
                                    <option value="email">Email</option>
                                </select>
                            </div>
                            <div class="md:col-span-2">
                                <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2" data-i18n="ent.label_handle">Username / Number / Email</label>
                                <input type="text" id="contactValue" required class="w-full rounded-xl border-gray-300 dark:border-gray-600 py-3.5 px-4 shadow-sm focus:border-primary focus:ring focus:ring-primary/20" placeholder="...">
                            </div>
                        </div>

                        <div class="mt-6">
                            <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2" data-i18n="ent.label_desc">Brief Description (Optional)</label>
                            <textarea id="description" rows="2" class="w-full rounded-xl border-gray-300 dark:border-gray-600 py-3 px-4 shadow-sm focus:border-primary focus:ring focus:ring-primary/20" placeholder="..."></textarea>
                        </div>
                    </div>

                    <div class="bg-yellow-50 dark:bg-yellow-900/10 p-4 rounded-xl border border-yellow-200 dark:border-yellow-800/30 flex items-start gap-3 mt-4">
                        <i class="fa-solid fa-circle-info text-yellow-600 dark:text-yellow-500 mt-1 shrink-0"></i>
                        <p class="text-sm font-medium text-gray-700 dark:text-gray-300 leading-relaxed" data-i18n="ent.disclaimer">
                            Note: Custom solutions start at different price points than the standard packages listed on the site.
                        </p>
                    </div>

                    <button type="submit" id="submitBtn" class="w-full py-4 bg-gradient-to-r from-blue-600 to-primary text-white font-black text-lg rounded-xl shadow-lg shadow-blue-500/20 hover:scale-[1.01] active:scale-[0.99] transition-all flex items-center justify-center gap-3 mt-6">
                        <span data-i18n="ent.btn_submit">Request Custom Quote</span>
                        <i class="fa-solid fa-arrow-right rtl:rotate-180"></i>
                    </button>
                </form>

                <div id="successMessage" class="hidden text-center py-12">
                    <div class="w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fa-solid fa-check text-4xl text-green-600 dark:text-green-400"></i>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 dark:text-white mb-3" data-i18n="ent.success_title">Request Received</h3>
                    <p class="text-gray-500 dark:text-gray-400 mb-10 max-w-lg mx-auto" data-i18n="ent.success_desc">We will review your details and contact you via your chosen method within 24 hours.</p>
                    <a href="/" class="inline-flex items-center justify-center px-8 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl font-bold text-gray-700 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-800 transition" data-i18n="ent.back_home">Back to Home</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const entTranslations = {
        en: {
            "ent.title_main": "Custom AI Solutions",
            "ent.title_sub": "Tailored to Your Project",
            "ent.subtitle": "For special projects, enterprises, clinics, and non-standard requests.",
            "ent.card_clinic_title": "Clinics & Centers",
            "ent.card_clinic_desc": "Smart booking systems & patient data analysis.",
            "ent.card_store_title": "E-commerce & Support",
            "ent.card_store_desc": "Automated CS bots & product recommendations.",
            "ent.card_tech_title": "Private API / SaaS",
            "ent.card_tech_desc": "High volume endpoints & dedicated infrastructure.",
            "ent.form_section_1": "Project Scope",
            "ent.form_section_2": "Contact Info",
            "ent.label_type": "Project Type",
            "ent.opt_select": "Select...",
            "ent.opt_type_cs": "Customer Service / Bot",
            "ent.opt_type_api": "Dedicated API",
            "ent.opt_type_web": "Website / App Integration",
            "ent.opt_type_other": "Other",
            "ent.label_volume": "Expected Volume",
            "ent.opt_vol_low": "Standard (Startups)",
            "ent.opt_vol_med": "Medium (Growing Business)",
            "ent.opt_vol_high": "High (Enterprise / Heavy Load)",
            "ent.label_needs": "Primary Requirement",
            "ent.opt_need_price": "Special Pricing (Bulk Discount)",
            "ent.opt_need_setup": "Full Setup & Development",
            "ent.opt_need_vps": "Dedicated VPS / Private Instance",
            "ent.opt_need_unsure": "Not sure, need consultation",
            "ent.label_method": "Method",
            "ent.label_handle": "Username / Number / Email",
            "ent.label_desc": "Brief Description (Optional)",
            "ent.disclaimer": "Note: Custom solutions start at different price points than the standard packages listed on the site.",
            "ent.btn_submit": "Request Custom Quote",
            "ent.success_title": "Request Received",
            "ent.success_desc": "We will review your details and contact you via your chosen method within 24 hours.",
            "ent.back_home": "Back to Home"
        },
        ar: {
            "ent.title_main": "حلول مخصصة بالذكاء الاصطناعي",
            "ent.title_sub": "حسب متطلبات مشروعك",
            "ent.subtitle": "هذه الصفحة للمشاريع الخاصة، الشركات، العيادات، والطلبات غير القياسية.",
            "ent.card_clinic_title": "عيادات / مراكز",
            "ent.card_clinic_desc": "أنظمة حجز ذكية وتحليل بيانات المرضى.",
            "ent.card_store_title": "متاجر / خدمة عملاء",
            "ent.card_store_desc": "بوتات رد آلي وتوصيات منتجات ذكية.",
            "ent.card_tech_title": "مشاريع تقنية / API خاص",
            "ent.card_tech_desc": "بنية تحتية مخصصة للطلبات العالية (High Volume).",
            "ent.form_section_1": "تفاصيل المشروع",
            "ent.form_section_2": "معلومات التواصل",
            "ent.label_type": "نوع المشروع",
            "ent.opt_select": "اختر...",
            "ent.opt_type_cs": "خدمة عملاء / بوت",
            "ent.opt_type_api": "API مخصص",
            "ent.opt_type_web": "موقع / تطبيق متكامل",
            "ent.opt_type_other": "غير ذلك",
            "ent.label_volume": "حجم الاستخدام المتوقع",
            "ent.opt_vol_low": "بسيط (شركات ناشئة)",
            "ent.opt_vol_med": "متوسط (أعمال متنامية)",
            "ent.opt_vol_high": "عالي (مؤسسات ضخمة / Enterprise)",
            "ent.label_needs": "ما الذي تحتاجه بشكل أساسي؟",
            "ent.opt_need_price": "سعر خاص (خصم كميات)",
            "ent.opt_need_setup": "إعداد كامل وتطوير",
            "ent.opt_need_vps": "سيرفر خاص (VPS / Private Instance)",
            "ent.opt_need_unsure": "غير متأكد، أحتاج استشارة",
            "ent.label_method": "الوسيلة",
            "ent.label_handle": "اسم المستخدم / الرقم / البريد",
            "ent.label_desc": "اشرح مشروعك باختصار (اختياري)",
            "ent.disclaimer": "ملاحظة: الحلول المخصصة تبدأ من حزم أسعار مختلفة عن الأسعار المعلنة في الموقع.",
            "ent.btn_submit": "طلب عرض مخصص",
            "ent.success_title": "تم استلام طلبك",
            "ent.success_desc": "سنقوم بمراجعة التفاصيل والتواصل معك عبر الوسيلة المختارة خلال 24 ساعة.",
            "ent.back_home": "العودة للرئيسية"
        }
    };

    if (window.translations) {
        Object.assign(window.translations.en, entTranslations.en);
        Object.assign(window.translations.ar, entTranslations.ar);
        if (document.readyState === 'complete' || document.readyState === 'interactive') {
            window.dispatchEvent(new Event('langChange'));
        }
    }

    async function submitForm(e) {
        e.preventDefault();
        const btn = document.getElementById('submitBtn');
        const originalText = btn.innerHTML;
        btn.disabled = true;
        btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> Processing...';

        const data = {
            projectType: document.getElementById('projectType').value,
            volume: document.getElementById('volume').value,
            needs: document.getElementById('needs').value,
            contactMethod: document.getElementById('contactMethod').value,
            contactValue: document.getElementById('contactValue').value,
            description: document.getElementById('description').value
        };

        try {
            const res = await fetch('/api/enterprise/contact', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            });

            if (res.ok) {
                document.getElementById('enterpriseForm').style.display = 'none';
                document.getElementById('successMessage').classList.remove('hidden');
                document.querySelectorAll('h3').forEach(el => { 
                    if(el.innerText.includes('1') || el.innerText.includes('2')) el.style.display = 'none'; 
                });
                window.scrollTo(0, 0);
            } else {
                alert("Something went wrong. Please try again.");
                btn.disabled = false;
                btn.innerHTML = originalText;
            }
        } catch(err) {
            alert("Connection Error");
            btn.disabled = false;
            btn.innerHTML = originalText;
        }
    }
</script>
{% endblock %}
{% extends "base.html" %}

{% block content %}
<style>
    .hero-text-gradient {
        background: linear-gradient(135deg, #3b82f6 0%, #6366f1 50%, #4f46e5 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    .card-hover {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .card-hover:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.1);
        border-color: #6366f1;
    }

    /* ‚îÄ‚îÄ Custom Dropdown ‚îÄ‚îÄ */
    .custom-select-wrapper { position: relative; user-select: none; }
    .custom-select-trigger {
        display: flex; align-items: center; justify-content: space-between;
        width: 100%; padding: 14px 16px; border-radius: 12px; cursor: pointer;
        border: 1px solid #d1d5db; background: #f9fafb; color: #111827;
        font-size: 0.9rem; font-weight: 500; transition: all 0.2s;
    }
    .dark .custom-select-trigger {
        background: #1e293b; border-color: #334155; color: #f1f5f9;
    }
    .custom-select-trigger:hover { border-color: #6366f1; }
    .custom-select-trigger.open { border-color: #6366f1; box-shadow: 0 0 0 3px rgba(99,102,241,0.15); }
    .custom-select-trigger .chevron {
        transition: transform 0.25s ease;
        color: #9ca3af; font-size: 0.75rem; flex-shrink: 0;
    }
    .custom-select-trigger.open .chevron { transform: rotate(180deg); }
    .custom-select-trigger .selected-text { flex: 1; text-align: start; }
    .custom-select-trigger .selected-text.placeholder { color: #9ca3af; }

    /* Dropdown panel ‚Äî appears BELOW the trigger */
    .custom-select-options {
        position: absolute; top: calc(100% + 6px); left: 0; right: 0;
        z-index: 9999;
        background: #fff; border: 1px solid #e5e7eb; border-radius: 14px;
        box-shadow: 0 20px 40px -8px rgba(0,0,0,0.18), 0 4px 12px -2px rgba(0,0,0,0.08);
        overflow: hidden; max-height: 0; opacity: 0; pointer-events: none;
        transition: max-height 0.28s cubic-bezier(0.4,0,0.2,1), opacity 0.2s ease, transform 0.22s cubic-bezier(0.4,0,0.2,1);
        transform: translateY(-8px);
    }
    .dark .custom-select-options {
        background: #1e293b; border-color: #334155;
    }
    .custom-select-options.open {
        max-height: 260px; opacity: 1; pointer-events: auto; transform: translateY(0);
    }
    .custom-select-option {
        padding: 13px 16px; cursor: pointer; font-size: 0.88rem; font-weight: 500;
        color: #374151; transition: background 0.15s, color 0.15s;
        display: flex; align-items: center; gap: 10px;
    }
    .dark .custom-select-option { color: #cbd5e1; }
    .custom-select-option:hover { background: #eef2ff; color: #4f46e5; }
    .dark .custom-select-option:hover { background: #312e81/20; background: rgba(49,46,129,0.25); color: #a5b4fc; }
    .custom-select-option.selected { background: #eef2ff; color: #4f46e5; font-weight: 700; }
    .dark .custom-select-option.selected { background: rgba(49,46,129,0.3); color: #a5b4fc; }
    .custom-select-option:not(:last-child) { border-bottom: 1px solid #f3f4f6; }
    .dark .custom-select-option:not(:last-child) { border-bottom-color: #1e293b; }
    .custom-select-option .opt-icon { font-size: 1rem; width: 20px; text-align: center; }

    /* inputs */
    .dark input, .dark textarea { background: #1e293b; color: #f1f5f9; border-color: #334155; }
    .dark input:focus, .dark textarea:focus { border-color: #6366f1; }

    .success-check {
        width: 80px; height: 80px; border-radius: 50%; display: block;
        stroke-width: 2; stroke: #22c55e; stroke-miterlimit: 10;
        margin: 10% auto; box-shadow: inset 0px 0px 0px #22c55e;
        animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both;
    }
    @keyframes fill { 100% { box-shadow: inset 0px 0px 0px 30px #22c55e; } }
</style>

<div class="min-h-screen bg-gray-50 dark:bg-darkbg py-16 px-4 sm:px-6 lg:px-8">
    <div class="max-w-5xl mx-auto">

        <div class="text-center mb-16">
            <h1 class="text-4xl sm:text-5xl font-black mb-6 tracking-tight text-gray-900 dark:text-white leading-tight">
                <span data-i18n="ent.title_main">Custom AI Solutions</span> <br>
                <span class="hero-text-gradient" data-i18n="ent.title_sub">Tailored to Your Project</span>
            </h1>
            <p class="text-lg text-gray-600 dark:text-gray-400 font-medium max-w-2xl mx-auto border-b-2 border-primary/10 pb-8" data-i18n="ent.subtitle">
                For special projects, enterprises, clinics, and non-standard requests.
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16">
            <div class="bg-white dark:bg-[#1e293b] p-8 rounded-2xl border border-gray-200 dark:border-gray-700 card-hover text-center cursor-default">
                <div class="w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-2xl flex items-center justify-center mx-auto mb-5 text-red-600 dark:text-red-400">
                    <i class="fa-solid fa-hospital-user text-3xl"></i>
                </div>
                <h3 class="font-bold text-xl text-gray-900 dark:text-white mb-2" data-i18n="ent.card_clinic_title">Clinics & Centers</h3>
                <p class="text-sm text-gray-500 dark:text-gray-400 font-medium" data-i18n="ent.card_clinic_desc">Smart booking systems & patient data analysis.</p>
            </div>
            <div class="bg-white dark:bg-[#1e293b] p-8 rounded-2xl border border-gray-200 dark:border-gray-700 card-hover text-center cursor-default">
                <div class="w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-2xl flex items-center justify-center mx-auto mb-5 text-green-600 dark:text-green-400">
                    <i class="fa-solid fa-store text-3xl"></i>
                </div>
                <h3 class="font-bold text-xl text-gray-900 dark:text-white mb-2" data-i18n="ent.card_store_title">E-commerce & Support</h3>
                <p class="text-sm text-gray-500 dark:text-gray-400 font-medium" data-i18n="ent.card_store_desc">Automated CS bots & product recommendations.</p>
            </div>
            <div class="bg-white dark:bg-[#1e293b] p-8 rounded-2xl border border-gray-200 dark:border-gray-700 card-hover text-center cursor-default">
                <div class="w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-2xl flex items-center justify-center mx-auto mb-5 text-blue-600 dark:text-blue-400">
                    <i class="fa-solid fa-server text-3xl"></i>
                </div>
                <h3 class="font-bold text-xl text-gray-900 dark:text-white mb-2" data-i18n="ent.card_tech_title">Private API / SaaS</h3>
                <p class="text-sm text-gray-500 dark:text-gray-400 font-medium" data-i18n="ent.card_tech_desc">High volume endpoints & dedicated infrastructure.</p>
            </div>
        </div>

        <div class="bg-white dark:bg-[#1e293b] rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden relative">
            <div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-blue-600 to-primary"></div>

            <div class="p-8 md:p-12">
                <form id="enterpriseForm" onsubmit="submitForm(event)" class="space-y-8">

                    <!-- Section 1 -->
                    <div>
                        <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-3">
                            <span class="w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center text-sm font-black">1</span>
                            <span data-i18n="ent.form_section_1">Project Scope</span>
                        </h3>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Project Type -->
                            <div>
                                <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2" data-i18n="ent.label_type">Project Type</label>
                                <div class="custom-select-wrapper" id="wrap-projectType">
                                    <div class="custom-select-trigger" onclick="toggleDropdown('projectType')" id="trigger-projectType">
                                        <span class="selected-text placeholder" id="text-projectType" data-i18n="ent.opt_select">Select...</span>
                                        <i class="fa-solid fa-chevron-down chevron"></i>
                                    </div>
                                    <div class="custom-select-options" id="opts-projectType">
                                        <div class="custom-select-option" onclick="selectOption('projectType','cs','ent.opt_type_cs')">
                                            <span class="opt-icon">ü§ñ</span><span data-i18n="ent.opt_type_cs">Customer Service / Bot</span>
                                        </div>
                                        <div class="custom-select-option" onclick="selectOption('projectType','api','ent.opt_type_api')">
                                            <span class="opt-icon">‚ö°</span><span data-i18n="ent.opt_type_api">Dedicated API</span>
                                        </div>
                                        <div class="custom-select-option" onclick="selectOption('projectType','web','ent.opt_type_web')">
                                            <span class="opt-icon">üåê</span><span data-i18n="ent.opt_type_web">Website / App Integration</span>
                                        </div>
                                        <div class="custom-select-option" onclick="selectOption('projectType','other','ent.opt_type_other')">
                                            <span class="opt-icon">‚ú®</span><span data-i18n="ent.opt_type_other">Other</span>
                                        </div>
                                    </div>
                                    <input type="hidden" id="projectType" required>
                                </div>
                            </div>

                            <!-- Volume -->
                            <div>
                                <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2" data-i18n="ent.label_volume">Expected Volume</label>
                                <div class="custom-select-wrapper" id="wrap-volume">
                                    <div class="custom-select-trigger" onclick="toggleDropdown('volume')" id="trigger-volume">
                                        <span class="selected-text placeholder" id="text-volume" data-i18n="ent.opt_select">Select...</span>
                                        <i class="fa-solid fa-chevron-down chevron"></i>
                                    </div>
                                    <div class="custom-select-options" id="opts-volume">
                                        <div class="custom-select-option" onclick="selectOption('volume','low','ent.opt_vol_low')">
                                            <span class="opt-icon">üå±</span><span data-i18n="ent.opt_vol_low">Standard (Startups)</span>
                                        </div>
                                        <div class="custom-select-option" onclick="selectOption('volume','medium','ent.opt_vol_med')">
                                            <span class="opt-icon">üìà</span><span data-i18n="ent.opt_vol_med">Medium (Growing Business)</span>
                                        </div>
                                        <div class="custom-select-option" onclick="selectOption('volume','high','ent.opt_vol_high')">
                                            <span class="opt-icon">üè¢</span><span data-i18n="ent.opt_vol_high">High (Enterprise / Heavy Load)</span>
                                        </div>
                                    </div>
                                    <input type="hidden" id="volume" required>
                                </div>
                            </div>
                        </div>

                        <!-- Needs -->
                        <div class="mt-6">
                            <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2" data-i18n="ent.label_needs">Primary Requirement</label>
                            <div class="custom-select-wrapper" id="wrap-needs">
                                <div class="custom-select-trigger" onclick="toggleDropdown('needs')" id="trigger-needs">
                                    <span class="selected-text placeholder" id="text-needs" data-i18n="ent.opt_select">Select...</span>
                                    <i class="fa-solid fa-chevron-down chevron"></i>
                                </div>
                                <div class="custom-select-options" id="opts-needs">
                                    <div class="custom-select-option" onclick="selectOption('needs','price','ent.opt_need_price')">
                                        <span class="opt-icon">üí∞</span><span data-i18n="ent.opt_need_price">Special Pricing (Bulk Discount)</span>
                                    </div>
                                    <div class="custom-select-option" onclick="selectOption('needs','setup','ent.opt_need_setup')">
                                        <span class="opt-icon">üîß</span><span data-i18n="ent.opt_need_setup">Full Setup & Development</span>
                                    </div>
                                    <div class="custom-select-option" onclick="selectOption('needs','vps','ent.opt_need_vps')">
                                        <span class="opt-icon">üñ•Ô∏è</span><span data-i18n="ent.opt_need_vps">Dedicated VPS / Private Instance</span>
                                    </div>
                                    <div class="custom-select-option" onclick="selectOption('needs','unsure','ent.opt_need_unsure')">
                                        <span class="opt-icon">üí¨</span><span data-i18n="ent.opt_need_unsure">Not sure, need consultation</span>
                                    </div>
                                </div>
                                <input type="hidden" id="needs" required>
                            </div>
                        </div>
                    </div>

                    <div class="border-t border-gray-100 dark:border-gray-700/50"></div>

                    <!-- Section 2 -->
                    <div>
                        <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-3">
                            <span class="w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center text-sm font-black">2</span>
                            <span data-i18n="ent.form_section_2">Contact Info</span>
                        </h3>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <!-- Contact Method -->
                            <div class="md:col-span-1">
                                <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2" data-i18n="ent.label_method">Method</label>
                                <div class="custom-select-wrapper" id="wrap-contactMethod">
                                    <div class="custom-select-trigger" onclick="toggleDropdown('contactMethod')" id="trigger-contactMethod">
                                        <span class="selected-text" id="text-contactMethod">
                                            <span class="opt-icon">‚úàÔ∏è</span> Telegram
                                        </span>
                                        <i class="fa-solid fa-chevron-down chevron"></i>
                                    </div>
                                    <div class="custom-select-options" id="opts-contactMethod">
                                        <div class="custom-select-option selected" onclick="selectOption('contactMethod','telegram',null,'‚úàÔ∏è Telegram')">
                                            <span class="opt-icon">‚úàÔ∏è</span>Telegram
                                        </div>
                                        <div class="custom-select-option" onclick="selectOption('contactMethod','whatsapp',null,'üì± WhatsApp')">
                                            <span class="opt-icon">üì±</span>WhatsApp
                                        </div>
                                        <div class="custom-select-option" onclick="selectOption('contactMethod','email',null,'üìß Email')">
                                            <span class="opt-icon">üìß</span>Email
                                        </div>
                                    </div>
                                    <input type="hidden" id="contactMethod" value="telegram">
                                </div>
                            </div>

                            <div class="md:col-span-2">
                                <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2" data-i18n="ent.label_handle">Username / Number / Email</label>
                                <input type="text" id="contactValue" required
                                    class="w-full rounded-xl border border-gray-300 dark:border-gray-600 py-3.5 px-4 shadow-sm focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20"
                                    placeholder="...">
                            </div>
                        </div>

                        <div class="mt-6">
                            <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2" data-i18n="ent.label_desc">Brief Description (Optional)</label>
                            <textarea id="description" rows="2"
                                class="w-full rounded-xl border border-gray-300 dark:border-gray-600 py-3 px-4 shadow-sm focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20"
                                placeholder="..."></textarea>
                        </div>
                    </div>

                    <div class="bg-yellow-50 dark:bg-yellow-900/10 p-4 rounded-xl border border-yellow-200 dark:border-yellow-800/30 flex items-start gap-3 mt-4">
                        <i class="fa-solid fa-circle-info text-yellow-600 dark:text-yellow-500 mt-1 shrink-0"></i>
                        <p class="text-sm font-medium text-gray-700 dark:text-gray-300 leading-relaxed" data-i18n="ent.disclaimer">
                            Note: Custom solutions start at different price points than the standard packages listed on the site.
                        </p>
                    </div>

                    <button type="submit" id="submitBtn"
                        class="w-full py-4 bg-gradient-to-r from-blue-600 to-primary text-white font-black text-lg rounded-xl shadow-lg shadow-blue-500/20 hover:scale-[1.01] active:scale-[0.99] transition-all flex items-center justify-center gap-3 mt-6">
                        <span data-i18n="ent.btn_submit">Request Custom Quote</span>
                        <i class="fa-solid fa-arrow-right rtl:rotate-180"></i>
                    </button>
                </form>

                <div id="successMessage" class="hidden text-center py-12">
                    <div class="w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fa-solid fa-check text-4xl text-green-600 dark:text-green-400"></i>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 dark:text-white mb-3" data-i18n="ent.success_title">Request Received</h3>
                    <p class="text-gray-500 dark:text-gray-400 mb-10 max-w-lg mx-auto" data-i18n="ent.success_desc">We will review your details and contact you via your chosen method within 24 hours.</p>
                    <a href="/" class="inline-flex items-center justify-center px-8 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl font-bold text-gray-700 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-800 transition" data-i18n="ent.back_home">Back to Home</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // ‚îÄ‚îÄ Custom Dropdown Logic ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    let openDropdown = null;

    function toggleDropdown(id) {
        const opts = document.getElementById('opts-' + id);
        const trigger = document.getElementById('trigger-' + id);
        const isOpen = opts.classList.contains('open');

        // Close all first
        closeAllDropdowns();

        if (!isOpen) {
            opts.classList.add('open');
            trigger.classList.add('open');
            openDropdown = id;
        }
    }

    function closeAllDropdowns() {
        document.querySelectorAll('.custom-select-options.open').forEach(el => el.classList.remove('open'));
        document.querySelectorAll('.custom-select-trigger.open').forEach(el => el.classList.remove('open'));
        openDropdown = null;
    }

    // Close when clicking outside
    document.addEventListener('click', function(e) {
        if (!e.target.closest('.custom-select-wrapper')) closeAllDropdowns();
    });

    // selectOption(fieldId, value, i18nKey, customLabel)
    function selectOption(fieldId, value, i18nKey, customLabel) {
        const hidden = document.getElementById(fieldId);
        const textEl = document.getElementById('text-' + fieldId);

        hidden.value = value;

        // Update label
        if (customLabel) {
            textEl.innerHTML = customLabel;
        } else {
            // Use i18n text from the clicked option
            const clickedOpt = event.currentTarget;
            const span = clickedOpt.querySelector('[data-i18n]') || clickedOpt.querySelector('span:last-child');
            const icon = clickedOpt.querySelector('.opt-icon');
            textEl.innerHTML = (icon ? icon.outerHTML + ' ' : '') + (span ? span.textContent : value);
        }
        textEl.classList.remove('placeholder');

        // Mark selected
        document.querySelectorAll('#opts-' + fieldId + ' .custom-select-option').forEach(o => o.classList.remove('selected'));
        if (event.currentTarget) event.currentTarget.classList.add('selected');

        closeAllDropdowns();
    }

    // ‚îÄ‚îÄ Translations ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    const entTranslations = {
        en: {
            "ent.title_main": "Custom AI Solutions",
            "ent.title_sub": "Tailored to Your Project",
            "ent.subtitle": "For special projects, enterprises, clinics, and non-standard requests.",
            "ent.card_clinic_title": "Clinics & Centers",
            "ent.card_clinic_desc": "Smart booking systems & patient data analysis.",
            "ent.card_store_title": "E-commerce & Support",
            "ent.card_store_desc": "Automated CS bots & product recommendations.",
            "ent.card_tech_title": "Private API / SaaS",
            "ent.card_tech_desc": "High volume endpoints & dedicated infrastructure.",
            "ent.form_section_1": "Project Scope",
            "ent.form_section_2": "Contact Info",
            "ent.label_type": "Project Type",
            "ent.opt_select": "Select...",
            "ent.opt_type_cs": "Customer Service / Bot",
            "ent.opt_type_api": "Dedicated API",
            "ent.opt_type_web": "Website / App Integration",
            "ent.opt_type_other": "Other",
            "ent.label_volume": "Expected Volume",
            "ent.opt_vol_low": "Standard (Startups)",
            "ent.opt_vol_med": "Medium (Growing Business)",
            "ent.opt_vol_high": "High (Enterprise / Heavy Load)",
            "ent.label_needs": "Primary Requirement",
            "ent.opt_need_price": "Special Pricing (Bulk Discount)",
            "ent.opt_need_setup": "Full Setup & Development",
            "ent.opt_need_vps": "Dedicated VPS / Private Instance",
            "ent.opt_need_unsure": "Not sure, need consultation",
            "ent.label_method": "Method",
            "ent.label_handle": "Username / Number / Email",
            "ent.label_desc": "Brief Description (Optional)",
            "ent.disclaimer": "Note: Custom solutions start at different price points than the standard packages listed on the site.",
            "ent.btn_submit": "Request Custom Quote",
            "ent.success_title": "Request Received",
            "ent.success_desc": "We will review your details and contact you via your chosen method within 24 hours.",
            "ent.back_home": "Back to Home"
        },
        ar: {
            "ent.title_main": "ÿ≠ŸÑŸàŸÑ ŸÖÿÆÿµÿµÿ© ÿ®ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä",
            "ent.title_sub": "ÿ≠ÿ≥ÿ® ŸÖÿ™ÿ∑ŸÑÿ®ÿßÿ™ ŸÖÿ¥ÿ±ŸàÿπŸÉ",
            "ent.subtitle": "Ÿáÿ∞Ÿá ÿßŸÑÿµŸÅÿ≠ÿ© ŸÑŸÑŸÖÿ¥ÿßÿ±Ÿäÿπ ÿßŸÑÿÆÿßÿµÿ©ÿå ÿßŸÑÿ¥ÿ±ŸÉÿßÿ™ÿå ÿßŸÑÿπŸäÿßÿØÿßÿ™ÿå ŸàÿßŸÑÿ∑ŸÑÿ®ÿßÿ™ ÿ∫Ÿäÿ± ÿßŸÑŸÇŸäÿßÿ≥Ÿäÿ©.",
            "ent.card_clinic_title": "ÿπŸäÿßÿØÿßÿ™ / ŸÖÿ±ÿßŸÉÿ≤",
            "ent.card_clinic_desc": "ÿ£ŸÜÿ∏ŸÖÿ© ÿ≠ÿ¨ÿ≤ ÿ∞ŸÉŸäÿ© Ÿàÿ™ÿ≠ŸÑŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ±ÿ∂Ÿâ.",
            "ent.card_store_title": "ŸÖÿ™ÿßÿ¨ÿ± / ÿÆÿØŸÖÿ© ÿπŸÖŸÑÿßÿ°",
            "ent.card_store_desc": "ÿ®Ÿàÿ™ÿßÿ™ ÿ±ÿØ ÿ¢ŸÑŸä Ÿàÿ™ŸàÿµŸäÿßÿ™ ŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿ∞ŸÉŸäÿ©.",
            "ent.card_tech_title": "ŸÖÿ¥ÿßÿ±Ÿäÿπ ÿ™ŸÇŸÜŸäÿ© / API ÿÆÿßÿµ",
            "ent.card_tech_desc": "ÿ®ŸÜŸäÿ© ÿ™ÿ≠ÿ™Ÿäÿ© ŸÖÿÆÿµÿµÿ© ŸÑŸÑÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑÿπÿßŸÑŸäÿ© (High Volume).",
            "ent.form_section_1": "ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑŸÖÿ¥ÿ±Ÿàÿπ",
            "ent.form_section_2": "ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ™ŸàÿßÿµŸÑ",
            "ent.label_type": "ŸÜŸàÿπ ÿßŸÑŸÖÿ¥ÿ±Ÿàÿπ",
            "ent.opt_select": "ÿßÿÆÿ™ÿ±...",
            "ent.opt_type_cs": "ÿÆÿØŸÖÿ© ÿπŸÖŸÑÿßÿ° / ÿ®Ÿàÿ™",
            "ent.opt_type_api": "API ŸÖÿÆÿµÿµ",
            "ent.opt_type_web": "ŸÖŸàŸÇÿπ / ÿ™ÿ∑ÿ®ŸäŸÇ ŸÖÿ™ŸÉÿßŸÖŸÑ",
            "ent.opt_type_other": "ÿ∫Ÿäÿ± ÿ∞ŸÑŸÉ",
            "ent.label_volume": "ÿ≠ÿ¨ŸÖ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÖÿ™ŸàŸÇÿπ",
            "ent.opt_vol_low": "ÿ®ÿ≥Ÿäÿ∑ (ÿ¥ÿ±ŸÉÿßÿ™ ŸÜÿßÿ¥ÿ¶ÿ©)",
            "ent.opt_vol_med": "ŸÖÿ™Ÿàÿ≥ÿ∑ (ÿ£ÿπŸÖÿßŸÑ ŸÖÿ™ŸÜÿßŸÖŸäÿ©)",
            "ent.opt_vol_high": "ÿπÿßŸÑŸä (ŸÖÿ§ÿ≥ÿ≥ÿßÿ™ ÿ∂ÿÆŸÖÿ© / Enterprise)",
            "ent.label_needs": "ŸÖÿß ÿßŸÑÿ∞Ÿä ÿ™ÿ≠ÿ™ÿßÿ¨Ÿá ÿ®ÿ¥ŸÉŸÑ ÿ£ÿ≥ÿßÿ≥Ÿäÿü",
            "ent.opt_need_price": "ÿ≥ÿπÿ± ÿÆÿßÿµ (ÿÆÿµŸÖ ŸÉŸÖŸäÿßÿ™)",
            "ent.opt_need_setup": "ÿ•ÿπÿØÿßÿØ ŸÉÿßŸÖŸÑ Ÿàÿ™ÿ∑ŸàŸäÿ±",
            "ent.opt_need_vps": "ÿ≥Ÿäÿ±ŸÅÿ± ÿÆÿßÿµ (VPS / Private Instance)",
            "ent.opt_need_unsure": "ÿ∫Ÿäÿ± ŸÖÿ™ÿ£ŸÉÿØÿå ÿ£ÿ≠ÿ™ÿßÿ¨ ÿßÿ≥ÿ™ÿ¥ÿßÿ±ÿ©",
            "ent.label_method": "ÿßŸÑŸàÿ≥ŸäŸÑÿ©",
            "ent.label_handle": "ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ / ÿßŸÑÿ±ŸÇŸÖ / ÿßŸÑÿ®ÿ±ŸäÿØ",
            "ent.label_desc": "ÿßÿ¥ÿ±ÿ≠ ŸÖÿ¥ÿ±ŸàÿπŸÉ ÿ®ÿßÿÆÿ™ÿµÿßÿ± (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä)",
            "ent.disclaimer": "ŸÖŸÑÿßÿ≠ÿ∏ÿ©: ÿßŸÑÿ≠ŸÑŸàŸÑ ÿßŸÑŸÖÿÆÿµÿµÿ© ÿ™ÿ®ÿØÿ£ ŸÖŸÜ ÿ≠ÿ≤ŸÖ ÿ£ÿ≥ÿπÿßÿ± ŸÖÿÆÿ™ŸÑŸÅÿ© ÿπŸÜ ÿßŸÑÿ£ÿ≥ÿπÿßÿ± ÿßŸÑŸÖÿπŸÑŸÜÿ© ŸÅŸä ÿßŸÑŸÖŸàŸÇÿπ.",
            "ent.btn_submit": "ÿ∑ŸÑÿ® ÿπÿ±ÿ∂ ŸÖÿÆÿµÿµ",
            "ent.success_title": "ÿ™ŸÖ ÿßÿ≥ÿ™ŸÑÿßŸÖ ÿ∑ŸÑÿ®ŸÉ",
            "ent.success_desc": "ÿ≥ŸÜŸÇŸàŸÖ ÿ®ŸÖÿ±ÿßÿ¨ÿπÿ© ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ ŸàÿßŸÑÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÉ ÿπÿ®ÿ± ÿßŸÑŸàÿ≥ŸäŸÑÿ© ÿßŸÑŸÖÿÆÿ™ÿßÿ±ÿ© ÿÆŸÑÿßŸÑ 24 ÿ≥ÿßÿπÿ©.",
            "ent.back_home": "ÿßŸÑÿπŸàÿØÿ© ŸÑŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©"
        }
    };

    if (window.translations) {
        Object.assign(window.translations.en, entTranslations.en);
        Object.assign(window.translations.ar, entTranslations.ar);
        if (document.readyState === 'complete' || document.readyState === 'interactive') {
            window.dispatchEvent(new Event('langChange'));
        }
    }

    // ‚îÄ‚îÄ Form Submit ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    async function submitForm(e) {
        e.preventDefault();

        // Validate custom selects
        const requiredFields = ['projectType', 'volume', 'needs'];
        let valid = true;
        requiredFields.forEach(id => {
            const val = document.getElementById(id).value;
            const trigger = document.getElementById('trigger-' + id);
            if (!val) {
                trigger.style.borderColor = '#ef4444';
                trigger.style.boxShadow = '0 0 0 3px rgba(239,68,68,0.15)';
                valid = false;
                setTimeout(() => {
                    trigger.style.borderColor = '';
                    trigger.style.boxShadow = '';
                }, 2500);
            }
        });
        if (!valid) return;

        const btn = document.getElementById('submitBtn');
        const originalHTML = btn.innerHTML;
        btn.disabled = true;
        btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i>';

        const data = {
            projectType:   document.getElementById('projectType').value,
            volume:        document.getElementById('volume').value,
            needs:         document.getElementById('needs').value,
            contactMethod: document.getElementById('contactMethod').value,
            contactValue:  document.getElementById('contactValue').value,
            description:   document.getElementById('description').value
        };

        try {
            const res = await fetch('/api/enterprise/contact', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            });

            if (res.ok) {
                document.getElementById('enterpriseForm').style.display = 'none';
                document.getElementById('successMessage').classList.remove('hidden');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                const d = await res.json().catch(() => ({}));
                alert(d.detail || 'Something went wrong. Please try again.');
                btn.disabled = false;
                btn.innerHTML = originalHTML;
            }
        } catch {
            alert('Connection Error. Please try again.');
            btn.disabled = false;
            btn.innerHTML = originalHTML;
        }
    }
</script>
{% endblock %}

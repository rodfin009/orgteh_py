<div class="model-lang-content lang-en hidden">
    <h3 class="text-2xl font-bold mb-4">Unleash Next-Generation Intelligence with Mistral Large 3</h3>
    <p class="mb-4 text-gray-600 dark:text-gray-300">Mistral Large 3 stands as the most advanced frontier model from Mistral AI, meticulously engineered to redefine the standards of enterprise-level artificial intelligence. Optimized for high-stakes production environments, this model excels in complex reasoning, advanced multilingual understanding, and sophisticated code generation. By integrating Mistral Large 3 via our API, your applications leverage a state-of-the-art architecture designed for maximum efficiency and precision in handling long-context tasks.</p>
    <p class="mb-6 text-gray-600 dark:text-gray-300">In terms of performance, Mistral Large 3 doesn't just keep pace with the industry; it actively rivals and, in several key reasoning and coding benchmarks, surpasses the leading proprietary models available today. It is the premier choice for businesses that demand top-tier cognitive capabilities without compromising on speed or reliability.</p>
    <h4 class="text-xl font-bold mb-4 text-primary">Technical Specifications:</h4>
    <div class="overflow-x-auto">
        <table class="w-full text-sm text-left border border-gray-200 dark:border-gray-700">
            <thead class="bg-gray-100 dark:bg-gray-800 uppercase font-bold">
                <tr><th class="px-4 py-3">Feature</th><th class="px-4 py-3">Specification</th></tr>
            </thead>
            <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                <tr><td class="px-4 py-2 font-semibold">Model Name</td><td class="px-4 py-2">Mistral Large 3 (675B)</td></tr>
                <tr><td class="px-4 py-2 font-semibold">Release Date</td><td class="px-4 py-2">December 2, 2025</td></tr>
                <tr><td class="px-4 py-2 font-semibold">Architecture</td><td class="px-4 py-2">Dense Transformer</td></tr>
                <tr><td class="px-4 py-2 font-semibold">Total Parameters</td><td class="px-4 py-2">675 Billion</td></tr>
                <tr><td class="px-4 py-2 font-semibold">Context Window</td><td class="px-4 py-2">128,000 Tokens</td></tr>
                <tr><td class="px-4 py-2 font-semibold">Multilingual Support</td><td class="px-4 py-2">Native support for 80+ languages</td></tr>
                <tr><td class="px-4 py-2 font-semibold">Coding Proficiency</td><td class="px-4 py-2">Exceptional (Top-tier in Python, C++, Java, etc.)</td></tr>
                <tr><td class="px-4 py-2 font-semibold">Reasoning Capability</td><td class="px-4 py-2">Advanced Logical & Mathematical Reasoning</td></tr>
                <tr><td class="px-4 py-2 font-semibold">Optimization</td><td class="px-4 py-2">Native Function Calling & JSON Output Mode</td></tr>
            </tbody>
        </table>
    </div>
</div>

<div class="model-lang-content lang-ar hidden">
    <h3 class="text-2xl font-bold mb-4">Ø£Ø·Ù„Ù‚ Ø§Ù„Ø¹Ù†Ø§Ù† Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø¬ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¯Ù… Ù…Ø¹ Mistral Large 3</h3>
    <p class="mb-4 text-gray-600 dark:text-gray-300">ÙŠÙØ¹Ø¯ Mistral Large 3 Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø£ÙƒØ«Ø± ØªÙ‚Ø¯Ù…Ø§Ù‹ Ù…Ù† Ø´Ø±ÙƒØ© Mistral AIØŒ Ø­ÙŠØ« ØªÙ… Ù‡Ù†Ø¯Ø³ØªÙ‡ Ø¨Ø¯Ù‚Ø© Ù„ÙŠØ¹ÙŠØ¯ ØªØ¹Ø±ÙŠÙ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…ÙˆØ¬Ù‡ Ù„Ù„Ù…Ø¤Ø³Ø³Ø§Øª. ØªÙ… ØªØ­Ø³ÙŠÙ† Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù„Ø¨ÙŠØ¦Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø­Ø³Ø§Ø³Ø©ØŒ Ø­ÙŠØ« ÙŠØªÙÙˆÙ‚ ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ù…Ø¹Ù‚Ø¯ØŒ Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø¹Ù…ÙŠÙ‚ Ù„Ù„ØºØ§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©ØŒ ÙˆØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©. Ù…Ù† Ø®Ù„Ø§Ù„ Ø¯Ù…Ø¬ Mistral Large 3 Ø¹Ø¨Ø± Ø§Ù„Ù€ API Ø§Ù„Ø®Ø§Øµ Ø¨Ù†Ø§ØŒ Ø³ØªØ­ØµÙ„ ØªØ·Ø¨ÙŠÙ‚Ø§ØªÙƒ Ø¹Ù„Ù‰ Ø¨Ù†ÙŠØ© ØªØ­ØªÙŠØ© Ù…ØªØ·ÙˆØ±Ø© Ù…ØµÙ…Ù…Ø© Ù„ØªØ­Ù‚ÙŠÙ‚ Ø£Ù‚ØµÙ‰ Ù‚Ø¯Ø± Ù…Ù† Ø§Ù„ÙƒÙØ§Ø¡Ø© ÙˆØ§Ù„Ø¯Ù‚Ø© ÙÙŠ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø³ÙŠØ§Ù‚Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¶Ø®Ù…Ø©.</p>
    <p class="mb-6 text-gray-600 dark:text-gray-300">Ù…Ù† Ø­ÙŠØ« Ø§Ù„Ø£Ø¯Ø§Ø¡ØŒ Ù„Ø§ ÙŠÙƒØªÙÙŠ Mistral Large 3 Ø¨Ù…ÙˆØ§ÙƒØ¨Ø© Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ© ÙØ­Ø³Ø¨ØŒ Ø¨Ù„ Ø¥Ù†Ù‡ ÙŠØ¸Ø§Ù‡ÙŠ ÙˆÙŠÙ†Ø§ÙØ³ Ø¨Ù‚ÙˆØ© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø±Ø§Ø¦Ø¯Ø© Ø¹Ø§Ù„Ù…ÙŠØ§Ù‹ØŒ Ø¨Ù„ ÙˆÙŠØªÙÙˆÙ‚ Ø¹Ù„ÙŠÙ‡Ø§ ÙÙŠ Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ù…Ù†Ø·Ù‚ ÙˆØ§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©. Ø¥Ù†Ù‡ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„ Ù„Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„ØªÙŠ ØªØªØ·Ù„Ø¨ Ù‚Ø¯Ø±Ø§Øª Ø¥Ø¯Ø±Ø§ÙƒÙŠØ© Ù…Ù† Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¹Ù„ÙŠØ§ Ù…Ø¹ Ø¶Ù…Ø§Ù† Ø§Ù„Ø³Ø±Ø¹Ø© ÙˆØ§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ©.</p>
    <h4 class="text-xl font-bold mb-4 text-primary">Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„ÙÙ†ÙŠØ©:</h4>
    <div class="overflow-x-auto">
        <table class="w-full text-sm text-right border border-gray-200 dark:border-gray-700">
            <thead class="bg-gray-100 dark:bg-gray-800 uppercase font-bold">
                <tr><th class="px-4 py-3">Ø§Ù„Ù…ÙŠØ²Ø©</th><th class="px-4 py-3">Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª</th></tr>
            </thead>
            <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                <tr><td class="px-4 py-2 font-semibold">Ø§Ø³Ù… Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</td><td class="px-4 py-2">Mistral Large 3 (675B)</td></tr>
                <tr><td class="px-4 py-2 font-semibold">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ØµØ¯Ø§Ø±</td><td class="px-4 py-2">2 Ø¯ÙŠØ³Ù…Ø¨Ø± 2025</td></tr>
                <tr><td class="px-4 py-2 font-semibold">Ø¨Ù†ÙŠØ© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</td><td class="px-4 py-2">Dense Transformer</td></tr>
                <tr><td class="px-4 py-2 font-semibold">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</td><td class="px-4 py-2">675 Ù…Ù„ÙŠØ§Ø± Ù…Ø¹Ø§Ù…Ù„</td></tr>
                <tr><td class="px-4 py-2 font-semibold">Ù†Ø§ÙØ°Ø© Ø§Ù„Ø³ÙŠØ§Ù‚</td><td class="px-4 py-2">128,000 ØªÙˆÙƒÙ†</td></tr>
                <tr><td class="px-4 py-2 font-semibold">Ø¯Ø¹Ù… Ø§Ù„Ù„ØºØ§Øª</td><td class="px-4 py-2">Ø¯Ø¹Ù… Ø£ØµÙ„ÙŠ Ù„Ø£ÙƒØ«Ø± Ù…Ù† 80 Ù„ØºØ©</td></tr>
                <tr><td class="px-4 py-2 font-semibold">ÙƒÙØ§Ø¡Ø© Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©</td><td class="px-4 py-2">Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠØ© (Ù…Ø³ØªÙˆÙ‰ Ø±Ø§Ø¦Ø¯ ÙÙŠ Ù„ØºØ§Øª Python, C++, Java)</td></tr>
                <tr><td class="px-4 py-2 font-semibold">Ø§Ù„Ù‚Ø¯Ø±Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠØ©</td><td class="px-4 py-2">Ù…Ù†Ø·Ù‚ Ø±ÙŠØ§Ø¶ÙŠ ÙˆØªØ­Ù„ÙŠÙ„ÙŠ Ù…ØªÙ‚Ø¯Ù…</td></tr>
                <tr><td class="px-4 py-2 font-semibold">Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ø·ÙˆØ±ÙŠÙ†</td><td class="px-4 py-2">Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù (Function Calling) ÙˆÙ†Ù…Ø· JSON</td></tr>
            </tbody>
        </table>
    </div>
</div>

<script type="application/json" id="model-specific-config">
[
    { 
        "id": "stream", "type": "toggle", "val": true,
        "label_en": "Stream Response", "label_ar": "Ø§Ù„Ø¨Ø« Ø§Ù„Ø­ÙŠ (Stream)",
        "desc_en": "Enable: See results instantly. Disable: Wait for full answer.",
        "desc_ar": "ØªÙØ¹ÙŠÙ„: Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹. ØªØ¹Ø·ÙŠÙ„: Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø­ØªÙ‰ Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø±Ø¯."
    },
    { 
        "id": "temperature", "type": "slider", "min": 0, "max": 1, "step": 0.01, "val": 0.15,
        "label_en": "Temperature", "label_ar": "Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© (Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©)",
        "desc_en": "Low (0.1): Very factual/dry. High (0.8): Creative.",
        "desc_ar": "Ù…Ù†Ø®ÙØ¶Ø© (0.1): Ø¯Ù‚ÙŠÙ‚ Ø¬Ø¯Ø§Ù‹ ÙˆØ¬Ø§Ù. Ø¹Ø§Ù„ÙŠØ© (0.8): Ø£Ø³Ù„ÙˆØ¨ Ø£ÙƒØ«Ø± Ù…Ø±ÙˆÙ†Ø© ÙˆØ¥Ø¨Ø¯Ø§Ø¹Ø§Ù‹."
    },
    { 
        "id": "frequency_penalty", "type": "slider", "min": -2, "max": 2, "step": 0.1, "val": 0.0,
        "label_en": "Frequency Penalty", "label_ar": "Ø¹Ù‚ÙˆØ¨Ø© Ø§Ù„ØªÙƒØ±Ø§Ø± Ø§Ù„Ù„ÙØ¸ÙŠ",
        "desc_en": "Positive: Reduces repetition of exact words. Negative: Increases repetition.",
        "desc_ar": "Ù‚ÙŠÙ…Ø© Ù…ÙˆØ¬Ø¨Ø©: ØªÙ…Ù†Ø¹ ØªÙƒØ±Ø§Ø± Ù†ÙØ³ Ø§Ù„ÙƒÙ„Ù…Ø§Øª. Ù‚ÙŠÙ…Ø© Ø³Ø§Ù„Ø¨Ø©: ØªØ²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø±."
    },
    { 
        "id": "presence_penalty", "type": "slider", "min": -2, "max": 2, "step": 0.1, "val": 0.0,
        "label_en": "Presence Penalty", "label_ar": "Ø¹Ù‚ÙˆØ¨Ø© ØªÙƒØ±Ø§Ø± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹",
        "desc_en": "Positive: Encourages new topics. Negative: Stays on topic.",
        "desc_ar": "Ù‚ÙŠÙ…Ø© Ù…ÙˆØ¬Ø¨Ø©: ØªØ´Ø¬Ø¹ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø¬Ø¯ÙŠØ¯Ø©. Ù‚ÙŠÙ…Ø© Ø³Ø§Ù„Ø¨Ø©: Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹."
    },
    { 
        "id": "max_tokens", "type": "slider", "min": 1, "max": 8192, "step": 1, "val": 2048,
        "label_en": "Max Tokens", "label_ar": "Ø£Ù‚ØµÙ‰ Ø·ÙˆÙ„ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø©",
        "desc_en": "Maximum response length.", "desc_ar": "Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ù…ÙˆØ² ÙÙŠ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©."
    }
]
</script>
<script>
    // ğŸ”¥ Updated to accept 'userSignal'
    window.modelSpecificChatHandler = async function(msg, uiModelId, params, chatBox, loadingDiv, userSignal) {
        const useStream = params.stream;
        if(loadingDiv) loadingDiv.remove();

        const botMsgId = `bot-${Date.now()}`;
        const botDiv = document.createElement('div');
        botDiv.className = "flex w-full mt-2 space-x-3 max-w-full";
        botDiv.innerHTML = `<div class="chat-bubble bot" id="${botMsgId}"></div>`;
        chatBox.appendChild(botDiv);
        const textEl = document.getElementById(botMsgId);

        const body = { message: msg, model_id: uiModelId, ...params };

        // ğŸ”¥ Pass signal
        const response = await fetch('/api/chat', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(body),
            signal: userSignal
        });

        if (useStream && response.body) {
            const reader = response.body.getReader();
            const decoder = new TextDecoder();
            while (true) {
                const { done, value } = await reader.read();
                if (done) break;
                const chunk = decoder.decode(value);
                const lines = chunk.split('\n');
                for (const line of lines) {
                    if (line.startsWith('data: ')) {
                        const jsonStr = line.slice(6);
                        if (jsonStr === '[DONE]') break;
                        try {
                            const data = JSON.parse(jsonStr);
                            const content = data.choices[0].delta.content || "";
                            textEl.textContent += content;
                            chatBox.scrollTop = chatBox.scrollHeight;
                        } catch(e){}
                    }
                }
            }
        } else {
            const data = await response.json();
            textEl.textContent = data.choices[0].message.content;
        }
    };
</script>